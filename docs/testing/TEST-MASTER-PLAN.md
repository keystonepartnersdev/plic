# PLIC E2E 테스트 마스터 플랜

> **이 문서만 읽으면 테스트 작업을 이어서 진행할 수 있습니다.**
>
> 최종 업데이트: 2026-02-02

---

## 1. 현재 상태 (세션 시작 시 확인)

```
┌─────────────────────────────────────────────────────────────┐
│  🎯 현재 단계: 리팩토링 Phase 1-6 기본 작업 완료             │
│  📍 다음 작업: 테스트 시나리오 작성 또는 추가 리팩토링       │
│  ⏰ 마지막 작업: 2026-02-02 리팩토링 완료                    │
│  📊 진행률: 30% (보안 이슈 해결, 기본 구조 개선)             │
└─────────────────────────────────────────────────────────────┘
```

### 진행 상황 체크리스트

| # | 단계 | 상태 | 비고 |
|---|------|------|------|
| 1 | 문서 구조 생성 | ✅ 완료 | |
| 2 | 마스터 플랜 작성 | ✅ 완료 | |
| 3 | 핵심 시나리오 작성 | ⬜ 대기 | SC-001 ~ SC-006 |
| 4 | 환경 셋업 문서 | ⬜ 대기 | |
| 5 | 테스트 환경 구축 | ⬜ 대기 | |
| 6 | SC-001 실행 | ⬜ 대기 | 거래 생성 플로우 |
| 7 | SC-002 실행 | ⬜ 대기 | 결제 플로우 |
| 8 | SC-003 실행 | ⬜ 대기 | 회원가입 플로우 |
| 9 | SC-004 실행 | ⬜ 대기 | 어드민 거래 관리 |
| 10 | SC-005 실행 | ⬜ 대기 | 어드민 회원 관리 |
| 11 | SC-006 실행 | ⬜ 대기 | 엣지 케이스 |
| 12 | 버그 수정 완료 | ⬜ 대기 | |
| 13 | 재테스트 통과 | ⬜ 대기 | |

---

## 2. 테스트 범위

### 2.1 테스트 대상 (6개 시나리오)

#### 핵심 플로우 (4개)

| 시나리오 ID | 기능 | 핵심 검증 포인트 | TC 수 (예상) |
|------------|------|-----------------|-------------|
| SC-001 | 거래 생성 | 5단계 위저드, 서류 업로드, 계좌 인증 | 10 |
| SC-002 | 결제 플로우 | 카드 결제, 빌링키, 상태 전이 | 8 |
| SC-003 | 회원가입 | 약관동의, 휴대폰 인증, 사업자 인증 | 8 |
| SC-004 | 어드민 거래 관리 | 거래 목록, 상세, 상태 변경 | 6 |

#### 확장 시나리오 (2개)

| 시나리오 ID | 목적 | 핵심 검증 포인트 | TC 수 (예상) |
|------------|------|-----------------|-------------|
| SC-005 | 어드민 회원 관리 | 회원 목록, 상태 변경, 등급 변경 | 6 |
| SC-006 | 엣지 케이스 | 에러 처리, 권한, 한도 | 10 |

**총 테스트 케이스: ~50개**

### 2.2 검증 기준 문서

모든 테스트의 "정답"은 아래 문서 기준:

| 문서 | 검증 내용 |
|------|----------|
| `docs/core/DEAL-TYPES.md` | 거래 상태 전이, 서류 규칙, 수수료 계산 |
| `docs/core/ARCHITECTURE.md` | 시스템 구조, 모바일 프레임 규칙 |
| `docs/core/REGISTRY.md` | API 엔드포인트, 타입 정의 |

---

## 3. 테스트 환경 설정

### 3.1 사전 준비

```bash
# 1. 의존성 설치
npm install

# 2. 환경 변수 확인
# .env.local 파일 확인

# 3. 개발 서버 실행
npm run dev
```

### 3.2 테스트 계정 (예정)

| 역할 | 이메일 | 비밀번호 | 용도 |
|------|--------|----------|------|
| 일반 사용자 A | test-user@plic.kr | test1234 | 거래 생성 |
| 일반 사용자 B | test-user2@plic.kr | test1234 | 수취인 |
| 어드민 | admin@plic.kr | admin1234 | 관리자 |

> ⚠️ 테스트 계정이 없으면 먼저 생성 필요

---

## 4. 시나리오 실행 방법

### 4.1 수동 테스트 (브라우저)

```
1. localhost:3000 접속
2. 테스트 계정으로 로그인
3. 시나리오 문서의 Step 따라 실행
4. 각 Step마다 "실제 결과" 컬럼 기록
5. Pass/Fail 체크
```

### 4.2 결과 기록 규칙

| 표기 | 의미 |
|------|------|
| ✅ | 기대대로 동작 |
| ❌ | 기대와 다르게 동작 (버그) |
| ⚠️ | 동작하지만 개선 필요 |
| ⬜ | 미실행 |

---

## 5. 버그 처리 프로세스

### 5.1 버그 발견 시

```
1. bugs/BUG-TRACKER.md에 새 버그 등록
2. 시나리오 문서의 해당 Step에 버그 ID 연결
3. 이 문서의 체크리스트에 버그 개수 기록
```

### 5.2 버그 수정 시

```
1. 코드 수정
2. BUG-TRACKER.md 상태 업데이트
3. 해당 시나리오 재테스트
4. 통과 시 체크리스트 업데이트
```

---

## 6. 완료 기준

### 6.1 테스트 통과 기준

- [ ] 6개 시나리오 모두 실행 완료
- [ ] 핵심 플로우 (SC-001~004) 95% Pass
- [ ] 엣지 케이스 (SC-006) 90% Pass
- [ ] Critical 버그 0개
- [ ] High 버그 0개

### 6.2 문서 업데이트

- [ ] 각 시나리오 문서에 최종 결과 기록
- [ ] BUG-TRACKER.md 정리
- [ ] 이 문서의 "현재 상태" 섹션 업데이트
- [ ] ROADMAP.md에 테스트 완료 반영

---

## 7. 파일 구조

```
docs/testing/
├── TEST-MASTER-PLAN.md          # 👈 지금 이 문서 (세션 시작점)
├── TEST-ENVIRONMENT-SETUP.md    # 환경 셋업 가이드 (예정)
│
├── scenarios/                   # 테스트 시나리오
│   ├── SC-001-DEAL-CREATE.md    # 거래 생성 (예정)
│   ├── SC-002-PAYMENT.md        # 결제 플로우 (예정)
│   ├── SC-003-SIGNUP.md         # 회원가입 (예정)
│   ├── SC-004-ADMIN-DEAL.md     # 어드민 거래 관리 (예정)
│   ├── SC-005-ADMIN-USER.md     # 어드민 회원 관리 (예정)
│   └── SC-006-EDGE-CASES.md     # 엣지 케이스 (예정)
│
├── execution/
│   └── EXEC-YYYY-MM-DD.md       # 날짜별 실행 로그 (예정)
│
└── bugs/
    └── BUG-TRACKER.md           # 버그 추적 (예정)
```

---

## 변경 이력

| 날짜 | 변경 내용 | 작성자 |
|------|----------|--------|
| 2026-02-02 | 최초 작성, 문서 구조 생성 | Claude |

---

**마지막 업데이트**: 2026-02-02

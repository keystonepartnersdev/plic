# PLIC 로드맵

> **목적**: 프로젝트 진행 상황 추적 및 남은 작업 관리
> **최종 업데이트**: 2026-02-02

---

## 현재 상태

```
코드 품질 점수:       62/100  🟡
보안 취약점:          3개 Critical
TypeScript strict:   ❌ 비활성화
대형 컴포넌트:        3개 (1000줄+)

├── 핵심 기능 ✅ 완성
│   ├── 거래 생성/조회/수정
│   ├── 카드 결제 (Softpayment)
│   ├── 사업자/계좌 인증 (Popbill)
│   └── 카카오 소셜 로그인
│
├── 🚨 보안 이슈
│   ├── 어드민 비밀번호 하드코딩
│   ├── 클라이언트 사이드 인증
│   └── JWT localStorage 저장
│
└── 🟡 기술 부채
    ├── TypeScript any 161개
    ├── 대형 컴포넌트 3개
    └── 중복 코드 다수
```

---

## 🚨 Phase 1: 보안 강화 (Critical)

> **목표**: 보안 취약점 0개

### Task 1.1: 어드민 인증 재구현

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 대상 | `stores/useAdminStore.ts`, `admin/login/page.tsx` |
| 작업 | 하드코딩 비밀번호 제거, 서버 인증 전환 |
| 선행 | 백엔드 어드민 API 필요 |

### Task 1.2: JWT 토큰 저장 방식 개선

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 대상 | `lib/api.ts`, 신규 API Route |
| 작업 | localStorage → httpOnly 쿠키 |

---

## Phase 2: 설정 중앙화 (High)

> **목표**: 하드코딩 제거, 환경변수 통합

### Task 2.1: 환경 설정 통합

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 신규 | `lib/config.ts`, `.env.example` |
| 작업 | API URL, 버킷명 등 중앙화 |

### Task 2.2: 상수 파일 생성

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 신규 | `lib/constants.ts` |
| 작업 | BANKS, DEAL_TYPES, LIMITS 통합 |

---

## Phase 3: 컴포넌트 분할 (Medium)

> **목표**: 모든 파일 500줄 이하

### Task 3.1: deals/new/page.tsx 분할

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 현재 | 1,414줄 |
| 목표 | ~300줄 (스텝별 컴포넌트 분리) |

### Task 3.2: deals/[did]/page.tsx 분할

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 현재 | 1,502줄 |
| 목표 | ~400줄 (모달/섹션 분리) |

### Task 3.3: auth/signup/page.tsx 분할

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 현재 | 1,001줄 |
| 목표 | ~250줄 (단계별 분리) |

---

## Phase 4: 중복 코드 제거 (Medium)

> **목표**: 중복 코드 5% 미만

### Task 4.1: 유틸리티 함수 추출

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 신규 | `lib/validation.ts` |
| 작업 | 계좌/전화번호/이메일 검증 통합 |

### Task 4.2: User 매핑 함수 추출

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 대상 | `stores/useUserStore.ts` |
| 작업 | 중복 매핑 로직 통합 |

### Task 4.3: 커스텀 훅 생성

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 신규 | `hooks/useAdminDataFetch.ts` |
| 작업 | 데이터 페칭 패턴 통합 |

---

## Phase 5: 타입 안전성 강화 (Medium)

> **목표**: TypeScript strict 모드, any 20개 미만

### Task 5.1: strict 모드 활성화

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 대상 | `tsconfig.json` |
| 작업 | 점진적 옵션 활성화 |

### Task 5.2: any 타입 제거

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 현재 | 161개 |
| 목표 | 20개 미만 |

---

## Phase 6: 코드 품질 개선 (Low)

> **목표**: 품질 점수 85/100

### Task 6.1: useEffect 의존성 수정

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 작업 | ESLint exhaustive-deps 규칙 적용 |

### Task 6.2: Error Boundary 추가

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 신규 | `components/common/ErrorBoundary.tsx` |

### Task 6.3: 민감 정보 로깅 제거

| 항목 | 내용 |
|------|------|
| 상태 | ⬜ 대기 |
| 대상 | `api/popbill/account/verify/route.ts` |

---

## 진행률 요약

| Phase | 진행률 | 상태 |
|-------|--------|------|
| Phase 1: 보안 강화 | 0% | ⬜ 대기 |
| Phase 2: 설정 중앙화 | 0% | ⬜ 대기 |
| Phase 3: 컴포넌트 분할 | 0% | ⬜ 대기 |
| Phase 4: 중복 코드 제거 | 0% | ⬜ 대기 |
| Phase 5: 타입 안전성 | 0% | ⬜ 대기 |
| Phase 6: 품질 개선 | 0% | ⬜ 대기 |

---

## 관련 문서

| 문서 | 경로 | 설명 |
|------|------|------|
| 아키텍처 | `docs/core/ARCHITECTURE.md` | 시스템 구조 |
| 거래 타입 | `docs/core/DEAL-TYPES.md` | 거래 정의 |
| 레지스트리 | `docs/core/REGISTRY.md` | 코드 네이밍 |
| 의사결정 | `docs/DECISIONS.md` | 설계 근거 |
| 리팩토링 계획 | `docs/01-plan/PLIC_REFACTORING_PLAN_v1.0.md` | 상세 계획 |

---

**마지막 업데이트**: 2026-02-02

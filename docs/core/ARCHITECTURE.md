# PLIC ์์คํ ์ํคํ์ฒ

> **ํต์ฌ ๋ฌธ์** - ์ ์ธ์์์ ๋ฐ๋์ ๋จผ์ ์ฝ์ด์ผ ํฉ๋๋ค.
>
> ์ด ๋ฌธ์๋ PLIC์ ์์ฒด ์์คํ ๊ตฌ์กฐ์ ์กฐ์ง ์ฒด๊ณ๋ฅผ ์์ํฉ๋๋ค.

### ๊ด๋จ ํต์ฌ ๋ฌธ์
| ๋ฌธ์ | ์ค๋ช |
|------|------|
| **[DEAL-TYPES.md](./DEAL-TYPES.md)** | ๊ฑฐ๋ ํ์ ์์์ - 12๊ฐ ๊ฑฐ๋ ํ์, ์ํ ์์ด, ์์๋ฃ ๊ท์น |
| [REGISTRY.md](./REGISTRY.md) | ํจ์/ํด๋์ค ์์น ์ฐพ๊ธฐ |
| [../DECISIONS.md](../DECISIONS.md) | ์ค๊ณ ๊ฒฐ์ ๊ทผ๊ฑฐ |

---

## 1. ์๋น์ค ์์ฒด์ฑ

### ๊ฐ์
- **์๋น์ค๋ช**: PLIC (ํ๋ฆญ)
- **ํ์**: B2C ํํํฌ ์๋น์ค
- **ํ๊ฒ ๊ณ๊ฐ**: ์นด๋ ๊ฒฐ์ โ ๊ณ์ข ์ก๊ธ์ด ํ์ํ ๊ฐ์ธ/์ฌ์์
- **ํต์ฌ ๋ฌธ์ ํด๊ฒฐ**: ์นด๋๊ฒฐ์ โ ๊ณ์ข์ก๊ธ ๋ธ๋ฆฟ์ง ์๋น์ค (์์๋ฃ ๊ธฐ๋ฐ)

### ๊ธฐ์ ์คํ
- **Frontend**: Next.js 16 + TypeScript + React 19
- **State**: Zustand (persist middleware)
- **Styling**: Tailwind CSS 4
- **Backend**: AWS API Gateway + Lambda + DynamoDB
- **Payment**: Softpayment PG
- **Verification**: Popbill (์ฌ์์/๊ณ์ข ์ธ์ฆ)
- **Auth**: Kakao OAuth + JWT

### ํต์ฌ ํ๋ก์ฐ
```
์ฌ์ฉ์ ๊ฐ์ โ ๊ฑฐ๋ ์์ฑ โ ์๋ฅ ์๋ก๋ โ ์นด๋ ๊ฒฐ์ โ ๊ด๋ฆฌ์ ๊ฒํ โ ๊ณ์ข ์ก๊ธ
```

---

## 2. 3๋ ํต์ฌ ํน์ง

| # | ํน์ง | ์ค๋ช | ํต์ฌ ๊ฐ์น |
|---|------|------|----------|
| **1** | **์นด๋โ๊ณ์ข ๋ธ๋ฆฟ์ง** | ์นด๋ ๊ฒฐ์๋ก ๊ณ์ข ์ก๊ธ | ํ๊ธ ์๋์ฑ ํ๋ณด ์์ด ์ก๊ธ ๊ฐ๋ฅ |
| **2** | **๋ชจ๋ฐ์ผ ํ๋์ UX** | ๋ฐ์คํฌํฑ์์๋ ๋ชจ๋ฐ์ผ ํ๋์ UI | ํผํธํซ๋ชฐ ์คํ์ผ, ์ผ๊ด๋ ๊ฒฝํ |
| **3** | **์ฌ์์ ์์๋ฃ ์ฐจ๋ฑ** | ๋ฑ๊ธ๋ณ ์์๋ฃ/ํ๋ ์ฐจ๋ฑ | ๊ณ๊ฐ ๊ฐ์น ๊ธฐ๋ฐ ์๊ธ์ |

---

## 3. 3๋ ๋ชจ๋ ์กฐ์ง๋

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                           PLIC 3๋ ๋ชจ๋ ์ฒด๊ณ                                    โ
โฃโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโซ
โ                                                                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  โถ USER MANAGEMENT ๋ชจ๋                                               โ   โ
โ  โ     "์ฌ์ฉ์ ์ธ์ฆ ๋ฐ ๋ฑ๊ธ ๊ด๋ฆฌ"                                          โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ   โ
โ  โ                                                                       โ   โ
โ  โ  AuthManager (์ธ์ฆํ) โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ ๐ก 70%  โ   โ
โ  โ  โ                                                                    โ   โ
โ  โ  โโโ KakaoOAuth ยทยทยทยทยทยทยทยทยทยทยทยทยทยท ์นด์นด์ค ์์ ๋ก๊ทธ์ธ ยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ DirectAuth ยทยทยทยทยทยทยทยทยทยทยทยทยทยท ์ด๋ฉ์ผ/๋น๋ฐ๋ฒํธ ์ธ์ฆ ยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ TokenManager ยทยทยทยทยทยทยทยทยทยทยทยท JWT ํํฐ ๊ด๋ฆฌ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ๏ธ    โ   โ
โ  โ  โโโ AdminAuth ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ์ด๋๋ฏผ ์ธ์ฆ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ                                                                       โ   โ
โ  โ  GradeManager (๋ฑ๊ธํ) โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ    โ   โ
โ  โ  โ                                                                    โ   โ
โ  โ  โโโ GradeCalculator ยทยทยทยทยทยทยทยทยท ๋ฑ๊ธ ์๋ ๋ณ๊ฒฝ ยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ LimitManager ยทยทยทยทยทยทยทยทยทยทยทยท ํ๋ ๊ด๋ฆฌ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ FeeManager ยทยทยทยทยทยทยทยทยทยทยทยทยทยท ์์๋ฃ ๊ณ์ฐ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ                                                                       โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  โท DEAL MANAGEMENT ๋ชจ๋                                               โ   โ
โ  โ     "๊ฑฐ๋ ์์ฑ ๋ฐ ์ํ ๊ด๋ฆฌ"                                            โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ   โ
โ  โ                                                                       โ   โ
โ  โ  DealManager (๊ฑฐ๋ํ) โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ    โ   โ
โ  โ  โ                                                                    โ   โ
โ  โ  โโโ DealCreator ยทยทยทยทยทยทยทยทยทยทยทยทยท ๊ฑฐ๋ ์์ฑ ์์๋ ยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ DealValidator ยทยทยทยทยทยทยทยทยทยทยท ๊ฑฐ๋ ๊ฒ์ฆ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ StatusManager ยทยทยทยทยทยทยทยทยทยทยท ์ํ ์์ด ๊ด๋ฆฌ ยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ DraftManager ยทยทยทยทยทยทยทยทยทยทยทยท ์์์์ฅ ๊ด๋ฆฌ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ                                                                       โ
โ  โ  DocumentManager (์๋ฅํ) โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ    โ   โ
โ  โ  โ                                                                    โ   โ
โ  โ  โโโ FileUploader ยทยทยทยทยทยทยทยทยทยทยทยท S3 ํ์ผ ์๋ก๋ ยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ DocumentValidator ยทยทยทยทยทยทยท ์๋ฅ ๊ฒ์ฆ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ AttachmentManager ยทยทยทยทยทยทยท ์ฒจ๋ถํ์ผ ๊ด๋ฆฌ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ                                                                       โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  โธ PAYMENT MANAGEMENT ๋ชจ๋                                            โ   โ
โ  โ     "๊ฒฐ์ ๋ฐ ์ก๊ธ ์ฒ๋ฆฌ"                                                 โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ   โ
โ  โ                                                                       โ   โ
โ  โ  PaymentManager (๊ฒฐ์ํ) โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ    โ   โ
โ  โ  โ                                                                    โ   โ
โ  โ  โโโ CardPayment ยทยทยทยทยทยทยทยทยทยทยทยทยท ์นด๋ ๊ฒฐ์ ์ฒ๋ฆฌ ยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ BillingKeyManager ยทยทยทยทยทยทยท ๋น๋งํค ๊ด๋ฆฌ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ PaymentValidator ยทยทยทยทยทยทยทยท ๊ฒฐ์ ๊ฒ์ฆ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ RefundHandler ยทยทยทยทยทยทยทยทยทยทยท ํ๋ถ ์ฒ๋ฆฌ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ                                                                       โ   โ
โ  โ  TransferManager (์ก๊ธํ) โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ ๐ก 60% โ   โ
โ  โ  โ                                                                    โ   โ
โ  โ  โโโ AccountVerifier ยทยทยทยทยทยทยทยทยท ๊ณ์ข ์ค๋ช ์ธ์ฆ ยทยทยทยทยทยทยทยทยทยทยทยทยทยท โ    โ   โ
โ  โ  โโโ TransferExecutor ยทยทยทยทยทยทยทยท ์ก๊ธ ์คํ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โฌ    โ   โ
โ  โ  โโโ TransferTracker ยทยทยทยทยทยทยทยทยท ์ก๊ธ ์ถ์ ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท โฌ    โ   โ
โ  โ                                                                       โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                                                               โ
โ  โ ๊ตฌํ ์๋ฃ    ๐ก ์งํ์ค (%)    โ๏ธ ๊ฐ์ ํ์    โ ๋ฏธ๊ตฌํ    โฌ ๊ณํ์ค    โ
โ                                                                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 4. ๊ฑฐ๋ ํ์ ์ฒด๊ณ

### ๊ฑฐ๋ ํ์๋ณ ์๋ณด

| DealType | ํ๊ธ๋ช | ํ์ ์๋ฅ | ์ค๋ช |
|----------|--------|----------|------|
| PRODUCT_PURCHASE | ๋ฌผํ๊ตฌ๋งค | ๊ฒฌ์์/๊ณ์ฝ์ | ์์์ฌ, ๋ถํ, ์ํ ๊ตฌ๋งค |
| LABOR_COST | ์ธ๊ฑด๋น | ๊ทผ๋ก๊ณ์ฝ์ | ๊ธ์ฌ, ์์ฌ๊ธ |
| SERVICE_FEE | ์๋น์ค์ด์ฉ๋ฃ | ์ด์ฉ๊ณ์ฝ์ | ๊ตฌ๋๋ฃ, ์ด์ฉ๋ฃ |
| CONSTRUCTION | ๊ณต์ฌ๋๊ธ | ๊ณต์ฌ๊ณ์ฝ์ | ๊ฑด์ค, ์ธํ๋ฆฌ์ด |
| RENTAL_FEE | ์์ฐจ๋ฃ | ์๋์ฐจ๊ณ์ฝ์ | ์์ธ, ์ฅ๋น์๋ |
| LOGISTICS | ๋ฌผ๋ฅ๋น | ์ด์ก๊ณ์ฝ์ | ๋ฐฐ์ก, ์ฐฝ๊ณ |
| MARKETING | ๊ด๊ณ๋ง์ผํ | ๊ด๊ณ๊ณ์ฝ์ | ๋ง์ผํ๋น |
| EQUIPMENT | ์ฅ๋น๊ตฌ๋งค | ๋งค๋งค๊ณ์ฝ์ | ๊ธฐ๊ณ, ์ฅ๋น |
| MAINTENANCE | ์์ง๋ณด์ | ์์ง๋ณด์๊ณ์ฝ์ | A/S, ์์ง๋ณด์ |
| CONSULTING | ์ปจ์คํ | ์ฉ์ญ๊ณ์ฝ์ | ์ปจ์คํ๋น |
| OTHER | ๊ธฐํ | ์ฆ๋น์๋ฅ | ๊ธฐํ |
| UNKNOWN | ๋ฏธ์ง์ | - | ๋ฏธ๋ถ๋ฅ |

### ๊ฑฐ๋ ์ํ ํ๋ฆ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๊ฑฐ๋ ์ํ ํ๋ฆ                                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                     โ
โ  draft โโโถ awaiting_payment โโโถ pending โโโถ reviewing              โ
โ    โ              โ                 โ           โ                  โ
โ    โ              โผ                 โผ           โผ                  โ
โ    โ         payment_failed    cancelled    completed              โ
โ    โผ                                            โ                  โ
โ  cancelled                                      โ                  โ
โ                                                 โ                  โ
โ                     โโโโ revision_requested โโโโโ                  โ
โ                               โ                                    โ
โ                               โผ                                    โ
โ                          pending (์์ ํ ์ฌ์์ถ)                    โ
โ                                                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

| ์ํ | ํ๊ธ๋ช | ์ค๋ช |
|------|--------|------|
| draft | ์์์์ฅ | ์์ฑ ์ค |
| awaiting_payment | ๊ฒฐ์๋๊ธฐ | ๊ฒฐ์ ์ |
| pending | ์ฌ์ฌ๋๊ธฐ | ๊ฒฐ์ ์๋ฃ, ๊ฒํ ์ |
| reviewing | ์ฌ์ฌ์ค | ๊ด๋ฆฌ์ ๊ฒํ ์ค |
| completed | ์๋ฃ | ์ก๊ธ ์๋ฃ |
| cancelled | ์ทจ์ | ์ทจ์๋จ |
| payment_failed | ๊ฒฐ์์คํจ | ๊ฒฐ์ ์ค๋ฅ |
| revision_requested | ์์์์ฒญ | ์๋ฅ ๋ณด์ ํ์ |

---

## 5. ๋๋ํ๋ฆฌ ๊ตฌ์กฐ

```
src/
โโโ app/                           # Next.js App Router
โ   โโโ (customer)/               # ๊ณ๊ฐ์ฉ ํ์ด์ง (๋ชจ๋ฐ์ผ ํ๋์)
โ   โ   โโโ layout.tsx           # MobileLayout ๋ํผ
โ   โ   โโโ page.tsx             # ํ
โ   โ   โโโ auth/                # ์ธ์ฆ
โ   โ   โ   โโโ login/
โ   โ   โ   โโโ signup/
โ   โ   โโโ deals/               # ๊ฑฐ๋
โ   โ   โ   โโโ page.tsx         # ๊ฑฐ๋ ๋ชฉ๋ก
โ   โ   โ   โโโ new/             # ๊ฑฐ๋ ์์ฑ ์์๋
โ   โ   โ   โโโ [did]/           # ๊ฑฐ๋ ์์ธ
โ   โ   โโโ payment/             # ๊ฒฐ์
โ   โ   โโโ mypage/              # ๋ง์ดํ์ด์ง
โ   โ   โโโ terms/               # ์ฝ๊ด
โ   โ
โ   โโโ admin/                    # ๊ด๋ฆฌ์ ํ์ด์ง (์์ฒด ํ๋ฉด)
โ   โ   โโโ layout.tsx
โ   โ   โโโ page.tsx             # ๋์๋ณด๋
โ   โ   โโโ users/               # ํ์ ๊ด๋ฆฌ
โ   โ   โโโ deals/               # ๊ฑฐ๋ ๊ด๋ฆฌ
โ   โ   โโโ contents/            # ์ฝํ์ธ ๊ด๋ฆฌ
โ   โ
โ   โโโ api/                      # API Routes
โ       โโโ auth/                # ์ธ์ฆ API
โ       โโโ payments/            # ๊ฒฐ์ API
โ       โโโ popbill/             # ์ธ์ฆ API (ํ๋น)
โ
โโโ components/                   # React ์ปดํฌ๋ํธ
โ   โโโ common/                  # ๊ณตํต ์ปดํฌ๋ํธ
โ   โ   โโโ MobileLayout.tsx     # ๋ชจ๋ฐ์ผ ํ๋์ ๋์ด์์
โ   โ   โโโ LeftPanel.tsx        # ๋ง์ผํ ํจ๋
โ   โ   โโโ Header.tsx           # ํค๋
โ   โ   โโโ BottomNav.tsx        # ํ๋จ ๋ค๋น๊ฒ์ด์
โ   โ   โโโ Modal.tsx            # ๋ชจ๋ฌ
โ   โโโ deal/                    # ๊ฑฐ๋ ๊ด๋จ
โ   โโโ admin/                   # ๊ด๋ฆฌ์ ์์ฉ
โ
โโโ stores/                       # Zustand ์คํ์ด
โ   โโโ useUserStore.ts          # ์ฌ์ฉ์ ์ํ
โ   โโโ useDealStore.ts          # ๊ฑฐ๋ ์ํ
โ   โโโ useDealDraftStore.ts     # ์์์์ฅ
โ   โโโ usePaymentStore.ts       # ๊ฒฐ์ ์ํ
โ   โโโ useAdminStore.ts         # ์ด๋๋ฏผ ์ํ
โ   โโโ useContentStore.ts       # ์ฝํ์ธ ์ํ
โ   โโโ useSettingsStore.ts      # ์ค์ ์ํ
โ
โโโ types/                        # TypeScript ํ์
โ   โโโ user.ts                  # ์ฌ์ฉ์ ํ์
โ   โโโ deal.ts                  # ๊ฑฐ๋ ํ์
โ   โโโ payment.ts               # ๊ฒฐ์ ํ์
โ   โโโ admin.ts                 # ์ด๋๋ฏผ ํ์
โ
โโโ classes/                      # Helper ํด๋์ค
โ   โโโ UserHelper.ts            # ์ฌ์ฉ์ ์ํธ
โ   โโโ DealHelper.ts            # ๊ฑฐ๋ ์ํธ
โ   โโโ PaymentHelper.ts         # ๊ฒฐ์ ์ํธ
โ
โโโ lib/                          # ์ํธ๋ฆฌํฐ
โ   โโโ api.ts                   # API ํด๋ผ์ด์ธํธ
โ   โโโ utils.ts                 # ๊ณตํต ์ํธ
โ   โโโ gradeUtils.ts            # ๋ฑ๊ธ ์ํธ
โ
โโโ hooks/                        # Custom Hooks
    โโโ useMounted.ts            # ํด๋ผ์ด์ธํธ ๋๋๋ง
```

---

## 6. API ๊ตฌ์กฐ

```
Backend API Base URL:
https://rz3vseyzbe.execute-api.ap-northeast-2.amazonaws.com/Prod

app/api/
โโโ auth/
โ   โโโ kakao-login/route.ts     # ์นด์นด์ค ๋ก๊ทธ์ธ ์ฒ๋ฆฌ
โ
โโโ kakao/                        # OAuth ํ๋ก์ฐ
โ   โโโ auth/route.ts            # ์ธ์ฆ ์์
โ   โโโ callback/route.ts        # ์ฝ๋ฐฑ ์ฒ๋ฆฌ
โ   โโโ result/route.ts          # ๊ฒฐ๊ณผ ํ์ด์ง
โ
โโโ payments/                     # ๊ฒฐ์ ์ฒ๋ฆฌ
โ   โโโ [trxId]/route.ts         # ๊ฒฐ์ ์กฐํ
โ   โโโ [trxId]/cancel/route.ts  # ๊ฒฐ์ ์ทจ์
โ   โโโ billing/route.ts         # ๋น๋ง ๊ฒฐ์
โ   โโโ billing-key/             # ๋น๋งํค ๊ด๋ฆฌ
โ       โโโ create/route.ts
โ       โโโ pay/route.ts
โ       โโโ callback/route.ts
โ
โโโ popbill/                      # ์ธ์ฆ ์๋น์ค
โ   โโโ business/verify/route.ts # ์ฌ์์ ์ธ์ฆ
โ   โโโ account/verify/route.ts  # ๊ณ์ข ์ธ์ฆ
โ
โโโ webhooks/
    โโโ softpayment/route.ts     # ๊ฒฐ์ ์นํ
```

---

## 7. ๋ชจ๋ฐ์ผ ํ๋์ ๋์ด์์ ํจํด

### ํ๋ฉด ๊ตฌ์ฑ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          ์์ฒด ํ๋ฉด (100vw)                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                            โ                                        โ
โ     Left Panel (50%)       โ        Mobile Frame (50%)              โ
โ                            โ                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ                      โ  โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ  โ
โ  โ      PLIC ๋ก๊ณ       โ  โ  โ โ         Header (z-10)        โ โ  โ
โ  โ                      โ  โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค โ  โ
โ  โ   "์นด๋๋ก ๊ฐํธํ๊ฒ"   โ  โ  โ โ                              โ โ  โ
โ  โ   "๊ณ์ข๋ก ์ก๊ธํ์ธ์" โ  โ  โ โ         Content Area         โ โ  โ
โ  โ                      โ  โ  โ โ         (์คํฌ๋กค ๊ฐ๋ฅ)         โ โ  โ
โ  โ      ๋ง์ผํ ํ์คํธ     โ  โ  โ โ                              โ โ  โ
โ  โ                      โ  โ  โ โ    375px x 812px             โ โ  โ
โ  โ                      โ  โ  โ โ                              โ โ  โ
โ  โ                      โ  โ  โ โ                              โ โ  โ
โ  โ                      โ  โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค โ  โ
โ  โ                      โ  โ  โ โ       BottomNav (z-50)       โ โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโ  โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ  โ
โ                            โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                            โ                                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ํ์ ๊ท์น

1. **๊ณ๊ฐ์ฉ UI๋ ๋ชจ๋ฐ์ผ ํ๋์ ๋ด๋ถ์๋ง** ๋๋๋ง
2. **fixed ํฌ์ง์ ๊ธ์ง** โ absolute ๋๋ sticky ์ฌ์ฉ
3. **๋ชจ๋ฌ์ ๋ชจ๋ฐ์ผ ํ๋์ ๊ธฐ์ค** ์ค์ ๋ฐฐ์น
4. **z-index ๊ณ์ธต**: Content(0) < Header(10) < Floating(20) < Overlay(40) < Modal(50)

---

## 8. ๋ฐ์ดํฐ ๋ชจ๋ธ ์์ฝ

### User (์ฌ์ฉ์)

| ํ๋ | ํ์ | ์ค๋ช |
|------|------|------|
| uid | string | ์ฌ์ฉ์ ID |
| name | string | ์ด๋ฆ |
| phone | string | ์ํ๋ฒํธ |
| email | string | ์ด๋ฉ์ผ |
| userType | 'personal' \| 'business' | ์ฌ์ฉ์ ์ํ |
| grade | 'basic' \| 'platinum' \| 'b2b' \| 'employee' | ๋ฑ๊ธ |
| status | TUserStatus | ์ํ |
| feeRate | number | ์์๋ฃ์จ |
| monthlyLimit | number | ์ ํ๋ |

### Deal (๊ฑฐ๋)

| ํ๋ | ํ์ | ์ค๋ช |
|------|------|------|
| did | string | ๊ฑฐ๋ ID |
| uid | string | ์ฌ์ฉ์ ID |
| dealType | TDealType | ๊ฑฐ๋ ํ์ |
| status | TDealStatus | ์ํ |
| amount | number | ์๊ธ |
| feeAmount | number | ์์๋ฃ |
| totalAmount | number | ์ด์ก |
| recipient | IRecipientAccount | ์์ทจ์ธ ์๋ณด |
| attachments | string[] | ์ฒจ๋ถํ์ผ |

---

## 9. ํ์ฌ ์ด์ ๋ฐ ๊ฐ์ ํ์ ์ฌํญ

### Critical (์ฆ์ ์์)
- [ ] ์ด๋๋ฏผ ๋น๋ฐ๋ฒํธ ํ๋์ฝ๋ฉ ์๊ฑฐ
- [ ] ํด๋ผ์ด์ธํธ ์ฌ์ด๋ ์ธ์ฆ โ ์๋ฒ ์ฌ์ด๋ ์ํ

### High (1์ฃผ ๋ด)
- [ ] JWT ํํฐ localStorage โ httpOnly ์ฟํค
- [ ] TypeScript strict ๋ชจ๋ ํ์ฑํ

### Medium (2์ฃผ ๋ด)
- [ ] ๋ํ ์ปดํฌ๋ํธ ๋ถํ (deals/new, deals/[did], signup)
- [ ] ์ค๋ณต ์ฝ๋ ์๊ฑฐ ๋ฐ ์ํธ๋ฆฌํฐ ์ถ์ถ

### Low (์ง์ ๊ฐ์)
- [ ] any ํ์ ์๊ฑฐ (161๊ฐ)
- [ ] useEffect ์์กด์ฑ ์์

---

**๋ง์ง๋ง ์๋ฐ์ดํธ**: 2026-02-02

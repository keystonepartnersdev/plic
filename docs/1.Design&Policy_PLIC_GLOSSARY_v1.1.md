# PLIC 용어 정의서 (GLOSSARY)

## 📋 문서 정보

| 항목 | 내용 |
|------|------|
| 문서명 | PLIC Glossary |
| 버전 | 1.1 |
| 작성일 | 2025-01-05 |
| 수정일 | 2025-01-05 |
| 작성자 | PLIC 개발팀 |
| 상태 | Review |
| 역할 | **전체 용어 SSOT** |

---

## 1. 핵심 비즈니스 용어

### 1.1 서비스 주체

| 용어 | 영문 | 정의 |
|------|------|------|
| **결제자** | Payer | 카드로 결제하는 PLIC 회원. 송금을 요청하고 수수료를 부담하는 주체 |
| **수취인** | Recipient | 계좌로 돈을 받는 사람. PLIC 회원이 아니며, PLIC 서비스를 알 필요 없음 |
| **관리자** | Admin | PLIC 서비스를 운영하는 내부 직원. 어드민 웹을 통해 서비스 관리 |

### 1.2 거래 구조 (3단계 모델)

PLIC의 거래는 **계약 → 입금 → 출금** 3단계로 구성됩니다.

| 용어 | 영문 | 정의 | 역할 |
|------|------|------|------|
| **거래** | Deal | 결제자가 요청한 송금 건 전체. 원금, 수수료, 상태 등을 포함하는 최상위 단위 | **계약 (Contract)** |
| **결제** | Payment | 결제자의 카드에서 PLIC으로 금액이 승인/청구되는 행위 또는 내역 | **입금 (Inbound)** |
| **송금** | Transfer | PLIC이 수취인 계좌로 돈을 이체하는 행위 또는 내역 | **출금 (Outbound)** |

```
[거래 흐름]

결제자 ──[Payment]──▶ PLIC ──[Transfer]──▶ 수취인
         (입금)              (출금)
              
              ▲
              │
           [Deal]
         (계약/총괄)
```

### 1.3 금액 관련

| 용어 | 영문 | 정의 |
|------|------|------|
| **원금** | Principal | 수취인에게 전달되는 송금 금액. 수수료를 제외한 순수 금액 |
| **총 결제액** | Total Amount | 원금 + 수수료. 결제자 카드에서 실제로 결제되는 금액 |

### 1.4 카드 관련

| 용어 | 영문 | 정의 |
|------|------|------|
| **빌링키** | billingKey | PG사에서 발급한 카드 토큰. 실제 카드번호 대신 결제에 사용되는 대체 키 |
| **기본 카드** | Default Card | 결제 시 우선 사용되는 카드. 사용자가 지정하며 1장만 설정 가능 |
| **토큰화** | Tokenization | 민감한 카드 정보를 비식별 토큰으로 변환하는 보안 기법 |

### 1.5 계좌 관련

| 용어 | 영문 | 정의 |
|------|------|------|
| **수취 계좌** | Recipient Account | 송금 대상이 되는 은행 계좌 |
| **예금주** | Account Holder | 계좌의 실제 소유자 이름 |
| **실명조회** | Account Verification | 계좌번호로 예금주명을 확인하는 절차. 결제 전 필수 |
| **즐겨찾기 계좌** | Favorite Account | 사용자가 자주 사용하기 위해 저장해둔 수취 계좌 |

---

## 2. 수수료 체계

> **중요**: 수수료는 3가지 종류가 있으며, 순수익 계산 시 반드시 구분해야 합니다.

| 용어 | 영문 | 정의 | 성격 |
|------|------|------|------|
| **서비스 수수료** | Service Fee | 결제자가 PLIC에 지불하는 서비스 이용료. VAT 포함 | **매출** |
| **PG 수수료** | PG Fee | PLIC이 PG사(소프트페이먼트)에 지불하는 결제 대행 비용 | **원가** |
| **송금 수수료** | Transfer Fee | PLIC이 은행/펌뱅킹 업체에 지불하는 이체 비용 | **원가** |

```
[수익 구조 예시]

서비스 수수료 (매출):     35,000원
- PG 수수료 (원가):      -25,000원
- 송금 수수료 (원가):       -500원
─────────────────────────────────
순수익 (마진):            9,500원
```

### 2.1 수수료 관련 용어

| 용어 | 영문 | 정의 |
|------|------|------|
| **최소 수수료** | Minimum Fee | 어떤 할인이 적용되어도 부과되는 최소 금액 (100원) |
| **수수료율** | Fee Rate | 원금 대비 수수료 비율 (예: 3.5%) |

---

## 3. 정산 및 회계

> **핵심**: 정산/대사는 "돈이 맞는지 확인하는" 금융 서비스의 핵심입니다.

### 3.1 정산 (Settlement)

| 용어 | 영문 | 정의 |
|------|------|------|
| **정산** | Settlement | PG사가 가맹점(PLIC)에 결제 대금을 지급하는 것 |
| **정산 주기** | Settlement Cycle | 결제 후 정산금 수령까지의 기간 (D+2 ~ D+7 영업일) |
| **정산 리포트** | Settlement Report | PG사가 제공하는 정산 내역 원천 데이터 |
| **차액 정산** | Net Settlement | 매출에서 PG 수수료를 차감한 금액으로 정산받는 방식 |
| **선지급** | Advance Payment | 정산 수령 전 PLIC이 수취인에게 먼저 송금하는 구조 |

### 3.2 대사 (Reconciliation)

| 용어 | 영문 | 정의 |
|------|------|------|
| **대사** | Reconciliation | PLIC 내부 DB와 외부 기관(PG사, 은행) 거래 내역을 대조하여 일치 여부를 확인하는 작업 |
| **불일치** | Discrepancy | 대사 과정에서 발견된 내부/외부 데이터 차이 |
| **대사 주기** | Reconciliation Cycle | 대사를 수행하는 주기 (매일 09:00, 전일 거래 기준) |

### 3.3 회계 (Accounting)

| 용어 | 영문 | 정의 |
|------|------|------|
| **원장** | Ledger | 모든 거래의 회계적 기록을 저장하는 장부. `ledger_entries` 테이블 |
| **분개** | Journal Entry | 거래를 차변/대변으로 기록하는 회계 행위 |
| **지급금** | Payout | 법인 계좌에서 수취인에게 송금되는 금액 |
| **송금 재원** | Remittance Funding | 송금에 사용되는 법인 계좌의 가용 자금 |

---

## 4. 결제 프로세스

### 4.1 결제 단계

| 용어 | 영문 | 정의 |
|------|------|------|
| **승인** | Authorization | 카드사가 결제 요청을 허가하는 것. 한도 차감됨 |
| **매입** | Capture | 승인된 결제를 실제로 청구하는 것. 매입해야 정산 대상이 됨 |
| **승인취소** | Void | **매입 전** 승인을 무효화하는 것. 정산 영향 없음 |
| **환불** | Refund | **매입 후** 결제를 취소하고 금액을 돌려주는 것. 정산에서 차감됨 |

```
[결제 단계별 취소 처리]

승인 ──────────────▶ 매입 ──────────────▶ 정산
       │                    │
       ▼                    ▼
    Void (승인취소)      Refund (환불)
    - 즉시 처리           - 3~7일 소요
    - 정산 무관           - 정산에서 차감
```

### 4.2 환불 상세

| 용어 | 영문 | 정의 |
|------|------|------|
| **전액 환불** | Full Refund | 결제 금액 전체를 환불하는 것 |
| **부분 환불** | Partial Refund | 결제 금액 일부만 환불하는 것 (v1.0 미지원) |

---

## 5. 리스크 관리

### 5.1 차지백 (Chargeback)

| 용어 | 영문 | 정의 |
|------|------|------|
| **차지백** | Chargeback | 카드 소유주가 거래를 부인하여 카드사가 가맹점(PLIC)에서 대금을 강제 회수하는 것 |
| **이의 제기** | Dispute | 카드 소유주가 카드사에 거래에 대해 이의를 제기하는 행위 |
| **차지백 대응** | Representment | 차지백에 대응하여 거래 정당성 증빙을 카드사에 제출하는 것 |
| **차지백 방어** | Chargeback Defense | 증빙 제출을 통해 차지백을 무효화하려는 시도 |

### 5.2 이상거래 탐지

| 용어 | 영문 | 정의 |
|------|------|------|
| **FDS** | Fraud Detection System | 이상 거래 탐지 시스템. 사기 거래를 사전에 차단 |
| **블랙리스트** | Blacklist | 서비스 이용이 영구 차단된 사용자/카드/계좌 목록 |
| **지급 보류** | Holding | 이상 거래 의심 등으로 정산/송금을 일시 중단하는 상태 |

### 5.3 서킷브레이커

| 용어 | 영문 | 정의 |
|------|------|------|
| **서킷브레이커** | Circuit Breaker | 운영자금 고갈 시 자동으로 신규 거래를 차단하는 안전 장치 |
| **트리거** | Trigger | 서킷브레이커가 발동되는 조건 (예: 가용 잔액 < 1일분 송금액) |

---

## 6. 상태 코드

### 6.1 거래(Deal) 상태

| 상태 | 코드 | 정의 | 다음 가능 상태 |
|------|------|------|----------------|
| **대기** | `PENDING` | 거래가 생성되었으나 아직 결제되지 않은 상태 | PAID, CANCELLED |
| **결제완료** | `PAID` | 카드 결제가 완료된 상태. 송금 대기 중 | TRANSFERRING, REFUNDED |
| **송금중** | `TRANSFERRING` | 계좌 송금이 진행 중인 상태 | COMPLETED, TRANSFER_FAILED |
| **완료** | `COMPLETED` | 송금이 성공적으로 완료된 최종 상태 | - (최종) |
| **취소** | `CANCELLED` | 결제 전 사용자/관리자가 취소한 최종 상태 | - (최종) |
| **환불** | `REFUNDED` | 결제 후 환불이 완료된 최종 상태 | - (최종) |
| **송금실패** | `TRANSFER_FAILED` | 송금이 실패한 상태. 재시도 중이거나 포기됨 | TRANSFERRING, REFUNDED |

### 6.2 송금 작업(Transfer Job) 상태

| 상태 | 코드 | 정의 | Deal 상태 매핑 | 환불 가능 |
|------|------|------|----------------|-----------|
| **대기** | `PENDING` | 송금 실행 대기 중 (점검시간 등) | TRANSFERRING | ❌ |
| **처리중** | `PROCESSING` | 송금 API 호출 중 | TRANSFERRING | ❌ |
| **완료** | `COMPLETED` | 송금 성공 | COMPLETED | ❌ |
| **실패** | `FAILED` | 송금 실패, 재시도 대기 중 | TRANSFER_FAILED | ❌ |
| **포기** | `ABANDONED` | 재시도 횟수 초과로 포기. 수동 처리 필요 | TRANSFER_FAILED | ✅ |

### 6.3 회원 상태

| 상태 | 코드 | 정의 | 서비스 이용 |
|------|------|------|-------------|
| **활성** | `ACTIVE` | 정상적으로 서비스 이용 가능한 상태 | ✅ 가능 |
| **휴면** | `DORMANT` | 1년간 로그인하지 않아 휴면 전환된 상태 | ⚠️ 재인증 필요 |
| **정지** | `SUSPENDED` | 관리자에 의해 이용이 정지된 상태 | ❌ 불가 |
| **탈퇴** | `WITHDRAWN` | 회원 탈퇴가 완료된 상태 | ❌ 불가 |

### 6.4 카드 상태

| 상태 | 코드 | 정의 |
|------|------|------|
| **활성** | `ACTIVE` | 결제에 사용 가능한 정상 상태 |
| **만료** | `EXPIRED` | 카드 유효기간이 만료된 상태 |
| **정지** | `SUSPENDED` | 관리자에 의해 사용이 정지된 상태 |
| **삭제** | `DELETED` | 사용자가 삭제한 상태 (Soft Delete) |

### 6.5 관리자 역할

| 역할 | 코드 | 정의 |
|------|------|------|
| **슈퍼관리자** | `SUPER_ADMIN` | 모든 권한 보유. 관리자 관리, 시스템 설정 변경 가능 |
| **관리자** | `ADMIN` | 운영 업무 전반 수행. 회원/거래 관리 가능 |
| **뷰어** | `VIEWER` | 조회 권한만 보유. 데이터 수정 불가 |

### 6.6 회원 등급

| 등급 | 코드 | 정의 | 수수료율 |
|------|------|------|----------|
| **베이직** | `BASIC` | 기본 등급. 모든 신규 회원에게 부여 | 3.5% |
| **플래티넘** | `PLATINUM` | 우수 회원 등급. 전월 수수료 10만원 이상 시 승급 | 3.0% |

---

## 7. API 및 통신

### 7.1 웹훅 (Webhook)

| 용어 | 영문 | 정의 |
|------|------|------|
| **웹훅** | Webhook | 외부 시스템(PG사 등)이 특정 이벤트 발생 시 PLIC 서버로 보내는 HTTP 콜백 |
| **웹훅 이벤트** | Webhook Event | 웹훅으로 전달되는 개별 이벤트. 고유 Event ID를 가짐 |
| **이벤트 ID** | Event ID | 웹훅 이벤트의 고유 식별자. 중복 처리 방지에 사용 |
| **서명 검증** | Signature Verification | 웹훅 요청의 위변조 여부를 확인하는 보안 검증 |
| **재전송 공격** | Replay Attack | 이전 웹훅 요청을 재사용하여 시스템을 속이려는 공격 |

### 7.2 멱등성 (Idempotency)

| 용어 | 영문 | 정의 |
|------|------|------|
| **멱등성** | Idempotency | 동일한 요청을 여러 번 수행해도 결과가 같음을 보장하는 특성 |
| **Idempotency-Key** | - | 클라이언트가 생성하는 UUID. 중복 요청 판별에 사용 |
| **멱등성 스코프** | Idempotency Scope | 멱등성 키의 유일성 범위. `user_id + endpoint + key` |
| **멱등성 TTL** | Idempotency TTL | 멱등성 키의 보관 기간. 24시간 후 만료 |
| **요청 해시** | Request Hash | 요청 payload의 해시값. 같은 키로 다른 요청 시 충돌 감지 |

---

## 8. 인증 및 보안

### 8.1 본인인증

| 용어 | 영문 | 정의 |
|------|------|------|
| **CI** | Connecting Information | 본인확인 기관에서 발급하는 개인 고유 식별값. 1인 1계정 정책에 사용 |
| **본인인증** | Identity Verification | 휴대폰 본인확인(PASS/SMS)을 통해 사용자 신원을 확인하는 절차 |
| **2FA** | Two-Factor Authentication | 이중 인증. 관리자 로그인 시 ID/PW + OTP 사용 |
| **OTP** | One-Time Password | 일회용 비밀번호. 관리자 2FA에 사용 |
| **PIN** | Personal Identification Number | 개인 식별 번호. 앱 결제 시 사용하는 숫자 비밀번호 |

### 8.2 데이터 보호

| 용어 | 영문 | 정의 |
|------|------|------|
| **암호화** | Encryption | 데이터를 읽을 수 없는 형태로 변환하는 보안 기법 |
| **해싱** | Hashing | 데이터를 고정 길이의 단방향 값으로 변환. 비밀번호 저장에 사용 |
| **검색용 해시** | Search Hash | 암호화된 필드를 검색하기 위한 HMAC 해시값 |
| **스냅샷** | Snapshot | 거래 시점의 데이터(예금주명, 수수료율)를 별도 저장하여 원본 변경과 무관하게 기록 보존 |

---

## 9. 데이터베이스

| 용어 | 영문 | 정의 |
|------|------|------|
| **Soft Delete** | - | 실제 삭제 대신 `deleted_at` 필드로 삭제 표시하는 방식 |
| **낙관적 락** | Optimistic Lock | `version` 필드를 이용한 동시성 제어. 수정 시 버전 불일치면 실패 |
| **SSOT** | Single Source of Truth | 단일 진실 공급원. 특정 정보의 유일한 원본 위치 |

---

## 10. 할인 및 프로모션

| 용어 | 영문 | 정의 |
|------|------|------|
| **할인 코드** | Discount Code | 수수료 할인을 위해 입력하는 코드 |
| **정률 할인** | Rate Discount | 수수료의 일정 비율(%)을 할인 |
| **정액 할인** | Fixed Discount | 수수료에서 고정 금액을 차감 |
| **캠페인 예산 캡** | Budget Cap | 할인 코드별 총 할인 금액 한도 |

---

## 11. 운영

| 용어 | 영문 | 정의 |
|------|------|------|
| **SLA** | Service Level Agreement | 서비스 수준 협약. 처리 시간 등 품질 기준 |
| **SOP** | Standard Operating Procedure | 표준 운영 절차 |
| **감사 로그** | Audit Log | 관리자 액션을 기록한 로그. 추적/감사 목적 |
| **배치** | Batch | 정해진 시간에 자동으로 실행되는 일괄 처리 작업 |

---

## 12. 규제 및 준수

| 용어 | 영문 | 정의 |
|------|------|------|
| **PCI-DSS** | Payment Card Industry Data Security Standard | 카드 산업 데이터 보안 표준 |
| **SAQ-A** | Self-Assessment Questionnaire A | PCI-DSS 자가 평가 유형 A. 카드정보 비접촉 가맹점용 |
| **KYC** | Know Your Customer | 고객 신원 확인 절차. 본인인증으로 수행 |
| **AML** | Anti-Money Laundering | 자금세탁 방지 |

---

## 13. 송금 관련

| 용어 | 영문 | 정의 |
|------|------|------|
| **펌뱅킹** | Firm Banking | 기업이 은행과 직접 연결하여 이체하는 서비스 |
| **지급대행** | Payment Agency | 대행사를 통해 송금하는 서비스 |
| **착오송금** | Erroneous Transfer | 잘못된 계좌로 송금한 경우 |
| **은행 점검** | Banking Maintenance | 은행 시스템 점검 시간 (23:30~00:30) |

---

## 부록

### A. 약어 모음

| 약어 | 전체 명칭 | 설명 |
|------|-----------|------|
| CI | Connecting Information | 본인확인 연계정보 |
| D+N | Day + N | 거래일 기준 N일 후 |
| FDS | Fraud Detection System | 이상거래 탐지 시스템 |
| KYC | Know Your Customer | 고객 신원 확인 |
| OTP | One-Time Password | 일회용 비밀번호 |
| PG | Payment Gateway | 결제 대행사 |
| PIN | Personal Identification Number | 개인 식별 번호 |
| PRD | Product Requirements Document | 제품 요구사항 정의서 |
| SLA | Service Level Agreement | 서비스 수준 협약 |
| SOP | Standard Operating Procedure | 표준 운영 절차 |
| SSOT | Single Source of Truth | 단일 진실 공급원 |
| TTL | Time To Live | 유효 기간 |

### B. 기술 스택 용어 (참고)

> 이 섹션은 인프라/플랫폼 관련 일반 기술 용어입니다. 비즈니스 용어가 아니므로 참고용입니다.

| 용어 | 영문 | 설명 |
|------|------|------|
| API | Application Programming Interface | 애플리케이션 프로그래밍 인터페이스 |
| JWT | JSON Web Token | 토큰 기반 인증 표준 형식 |
| SDK | Software Development Kit | 소프트웨어 개발 도구 모음 |
| TLS | Transport Layer Security | 전송 계층 보안 프로토콜 |
| VPC | Virtual Private Cloud | 가상 사설 네트워크 |
| SQS | Simple Queue Service | AWS 메시지 큐 서비스 |
| WAF | Web Application Firewall | 웹 애플리케이션 방화벽 |
| KMS | Key Management Service | 암호화 키 관리 서비스 |

### C. 플랫폼 용어 (참고)

| 용어 | 영문 | 설명 |
|------|------|------|
| 하이브리드 앱 | Hybrid App | 네이티브 쉘 안에 웹뷰를 탑재한 앱 |
| Capacitor | - | 하이브리드 앱 개발 프레임워크 |
| WebView | - | 앱 내 웹 콘텐츠 표시 컴포넌트 |
| FCM | Firebase Cloud Messaging | Google 푸시 알림 서비스 |
| APNs | Apple Push Notification service | Apple 푸시 알림 서비스 |

---

### D. 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2025-01-05 | 초안 작성 | PLIC 개발팀 |
| 1.1 | 2025-01-05 | CTO 리뷰 반영 (상세 아래) | PLIC 개발팀 |

#### v1.1 변경 상세

| 구분 | 변경 내용 |
|------|-----------|
| **거래 구조 명확화** | Deal/Payment/Transfer를 계약/입금/출금 3단계 모델로 정의 |
| **수수료 세분화** | Service Fee(매출), PG Fee(원가), Transfer Fee(원가) 분리 |
| **정산/회계 섹션 신설** | Settlement, Reconciliation, Ledger, Payout 등 추가 |
| **결제 단계 구분** | 승인/매입 분리, Void vs Refund 구분 명확화 |
| **리스크 관리 보강** | Dispute, Representment, Holding 추가 |
| **멱등성 상세화** | Scope, TTL, Request Hash 용어 추가 |
| **웹훅 상세화** | Event ID, Signature Verification, Replay Attack 추가 |
| **일반 IT 용어 부록 이동** | API, SDK, TLS, VPC 등 → 부록 B, C로 격하 |
| **약어 모음 정리** | 핵심 약어만 유지, 일반 IT 약어 삭제 |

### E. 참고 문서

| 문서 | 관계 |
|------|------|
| PLIC_PRD.md | 용어 출처 (정책 정의) |
| PLIC_DB_SCHEMA.md | 용어 출처 (상태 코드, 테이블) |
| PLIC_INFRA_ROADMAP.md | 용어 출처 (기술 스택) |

---

### F. v2.0 추가 예정 용어

> 분할결제 도입 시 추가될 용어입니다. (v1.0 범위 아님)

| 용어 | 영문 | 설명 |
|------|------|------|
| Payment Plan | 결제 계획 | n회 분할의 전체 계획 (회차 수, 스케줄, 총액) |
| Payment Slice | 회차 결제 | 각 회차의 실제 카드 승인/매입 단위 |
| SCHEDULED | 예정됨 | 분할결제 회차가 예정된 상태 |
| AUTHORIZED | 승인됨 | 승인 완료, 매입 대기 상태 |
| CAPTURED | 매입됨 | 매입 완료 상태 |
